<md-subheader class="md-primary">Expenses</md-subheader>
<md-card>
  <md-list class="menu">
    <md-list-item class="md-2-line" ng-repeat="expense in vm.balanceSheet.expenses">
      <div class="md-list-item-text" layout="column">
        <a href="#/expenses/{{expense.id}}" layout="row" layout-align="start center">
          <span>{{expense.name}}</span>
          <span flex></span>
          <span>{{expense.getCost() | currency:""}}</span>
        </a>
        <div ng-if="!expense.isBalanced()" style="color: red;">Costs and shares unbalanced</div>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item class="md-2-line" ng-if="vm.balanceSheet.expenses.length == 0">
      <div class="md-list-item-text">
          No expenses.
      </div>
    </md-list-item>
  </md-list>
</md-card>

<md-subheader class="md-primary">People</md-subheader>
<md-card>
  <md-list class="menu">
    <md-list-item class="md-2-line" ng-repeat="person in vm.balanceSheet.persons"">
      <div class="md-list-item-text" layout="column">
        <a href="#/persons/{{person.id}}" layout="row" layout-align="start center">
          <span>{{person.name}}</span>
          <span flex></span>
          <span>{{person.getBalance() | balance}}</span>
        </a>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item class="md-2-line" ng-if="vm.balanceSheet.persons.length == 0">
      <div class="md-list-item-text">
          No people.
      </div>
    </md-list-item>
  </md-list>
</md-card>

<md-subheader class="md-primary">Debts</md-subheader>
<md-card>
  <md-list class="menu">
    <md-list-item class="md-2-line" ng-repeat="d in vm.debtsByDebtor">
      <div class="md-list-item-text" layout="column">
        <span>{{d.debtor.name}} owes</span>
        <span ng-repeat="c in d.debts" style="margin-left: 16px;">
          {{c.creditor.name}}: {{c.amount | currency:""}}
        </span>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item ng-if="vm.balanceSheet.persons.length == 0 || vm.balanceSheet.expenses.length == 0">Add some people and expenses first. Debts that settle up all the expenses will appear here.</div>
    <md-list-item ng-if="vm.debtsByDebtor.length == 0 && vm.balanceSheet.persons.length > 0 && vm.balanceSheet.expenses.length > 0">Everyone is settled up!</div>
    <md-list-item ng-if="!vm.balanceSheet.isBalanced()">Cannot compute debts. There are unbalanced expenses.</div>
  </md-list>
</md-card>