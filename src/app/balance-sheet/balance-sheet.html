<md-subheader class="md-primary">Expenses</md-subheader>
<md-card>
  <md-list class="menu">
    <md-list-item class="md-2-line" ng-repeat="expense in vm.balanceSheet.expenses">
      <md-icon ng-if="!expense.isBalanced()" class="md-warn" md-svg-icon="alert:ic_warning_24px"></md-icon>
      <md-icon ng-if="expense.isBalanced()" class="md-primary" md-svg-icon="action:ic_shopping_basket_24px"></md-icon>
      <div class="md-list-item-text" layout="column">
        <a href="#/expenses/{{expense.id}}" layout="row" layout-align="start center">
          <span ng-class="{settled: expense.settled}">{{expense.name}}</span>
          <span flex></span>
          <span>{{expense.getCost() | currency:""}}</span>
        </a>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item class="md-2-line" ng-if="vm.balanceSheet.expenses.length == 0">
      <div class="md-list-item-text">
          No expenses.
      </div>
    </md-list-item>
  </md-list>
</md-card>

<md-subheader class="md-primary">People</md-subheader>
<md-card>
  <md-list class="menu">
    <md-list-item class="md-2-line" ng-repeat="person in vm.balanceSheet.persons">
      <md-icon class="md-primary" md-svg-icon="action:ic_face_24px"></md-icon>
      <div class="md-list-item-text" layout="column">
        <a href="#/persons/{{person.id}}" layout="row" layout-align="start center">
          <span>{{person.name}}</span>
          <span flex></span>
          <span>{{person.getBalance() | balance}}</span>
        </a>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item class="md-2-line" ng-if="vm.balanceSheet.persons.length == 0">
      <div class="md-list-item-text">
          No people.
      </div>
    </md-list-item>
  </md-list>
</md-card>

<md-subheader class="md-primary">Debts</md-subheader>
<md-card>
  <md-list>
    <md-list-item class="md-2-line" ng-repeat="d in vm.debtsByDebtor">
      <div class="md-list-item-text" layout="column">
        <span>{{d.debtor.name}} owes</span>
        <span ng-repeat="c in d.debts" style="margin-left: 16px;">
          {{c.creditor.name}}: {{c.amount | currency:""}}
        </span>
      </div>
      <md-divider ng-if="!$last"></md-divider>
    </md-list-item>
    <md-list-item ng-if="vm.balanceSheet.persons.length == 0 || vm.balanceSheet.expenses.length == 0">
      <p>Add some people and expenses first.</p>
      <p>Debts that settle up all the expenses will appear here.</p>
    </md-list-item>
    <md-list-item ng-if="vm.debtsByDebtor.length == 0 && vm.balanceSheet.persons.length > 0 && vm.balanceSheet.expenses.length > 0">
      <p>Everyone is settled up!</p>
    </md-list-item>
    <md-list-item ng-if="!vm.balanceSheet.isBalanced()">
      <md-icon class="md-warn" md-svg-icon="alert:ic_warning_24px"></md-icon>
      <p>Cannot compute debts. There are unbalanced expenses.</p>
    </md-list-item>
  </md-list>
</md-card>